# 프로세스와 스레드

done: Yes
날짜: 2023년 1월 12일

## 프로세스와 스레드

---

> 프로세스 : 프로그램을 메모리상에서 실행중인 작업. 동적상태의 프로그램
> 

> 스레드 : 프로세스 안에서 실행되는 여러 흐름 단위
> 

![프로세스 안에 메인 스레드 포함 최소 1개의 스레드가 있다](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%89%E1%85%A6%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3%201a41878e9533468cbb19b6b69121e4e7/Untitled.jpeg)

프로세스 안에 메인 스레드 포함 최소 1개의 스레드가 있다

## 프로세스구조

Code : 코드를 구성하는 메모리영역 (프로그램 명령)

Data : 전역변수,정적변수,배열

Heap : 동적할당시 사용(malloc,new 등)

Stack : 임시메모리영역 (지역변수, 매개변수, 리턴값)

## 프로세스와 스레드

✔️ 프로세스는 독립적인 주소공간을 할당받기 때문에 다른 프로세스의 변수,자료에 접근할 수 없다

✔️ 스레드는 Stack만 독립적으로 할당받고 나머지는 다른 스레드와 자원을 공유함

✔️ 스레드는 프로세스 코드에 정의된 것에 따라 수행되는 경로

## 멀티 프로세스

✔️ 하나의 프로그램을 여러 프로세스로 구성해 병렬적으로 작업을 수행하는것

✔️ 스레드끼리 프로세스의 자원을 공유하면서 프로세스 실행 흐름의 일부가 된다

- 장점 : 안전함. 메모리 침범 문제를 OS차원에서 해결
- 단점 : 각 프로세스가 독립된 메모리 영역을 사용하기 때문에 작업량이 많을 때 오버헤드가 발생함. **Context Switching** 으로 인한 성능 저하

→ **Context Switching :** 프로세스가 교체되는 과정. 동작중인 프로세스가 상태를 보관하고 대기에 있던 다음 프로세스가 동작하면서 상태를 복구하는 과정. 캐시메모리 초기화와 같은 무거운 작업이 진행되었을 때 오버헤드가 발생하는 문제 

![Untitled](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%89%E1%85%A6%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3%201a41878e9533468cbb19b6b69121e4e7/Untitled.png)

## 멀티 스레드

✔️ 하나의 응용 프로그램에서 여러 스레드를 구성해 각 스레드가 하나의 작업을 처리하는 것

- 스레드들이 공유 메모리를 통해 다수 작업을 동시에 처리하도록 해줌
- 장점 : 독립적인 프로세스에 비해 공유메모리만큼의 시간, 자원손실이 감소한다. 전역-정적변수에 대한 자료공유가 가능
- 단점 : 안정성의 문제. 하나의 스레드가 데이터 공간을 망가트리면 모든 스레드가 작동 불가능해짐(프로세스는 하나가 종료되도 영향을 받지 않음)
    - 예시 세그먼드폴트
    - 안정성은 **Critical Section** 기법을 통해 대비
    - 스레드가 공유 데이터값을 변경하는 시점에 다른 스레드가 값을 읽으려할 때 발생하는 문제를 해결하기위한 동기화과정

# 질문

---